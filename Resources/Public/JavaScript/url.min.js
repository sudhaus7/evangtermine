const defaultValues={highlight:"all",eventtype:"all",people:"0",region:"all",place:"all",zip:"",radius:"0",q:"",date:"",hideOngoingEvents:"0",itemsPerPage:"20",pageId:"1"},replaceUrl=function(){const e=document.getElementsByName("etkeysForm");1===e.length&&e.forEach((function(e){const t=new FormData(e),n=getUrlChangeOption(t.entries(),defaultValues),r=removeProtocolAndHostFromUrl();switch(n){case"highlightEventtypePeople":urlForHighlightEventtypePeople(t.entries(),r);break;case"region":urlForRegion(t.entries(),r);break;case"place":urlForPlace(t.entries(),r)}}))},getChangedOptions=function(e,t){let n={highlight:!1,eventtype:!1,people:!1,region:!1,place:!1,zip:!1,radius:!1,q:!1,date:!1,hideOngoingEvents:!1,itemsPerPage:!1};for(let r of e)for(const[e,o]of Object.entries(t))r[0]=="tx_evangtermine_list[etkeysForm]["+e+"]"&&r[1]!=o&&("highlight"===e&&(n.highlight=!0),"eventtype"===e&&(n.eventtype=!0),"people"===e&&(n.people=!0),"region"===e&&(n.region=!0),"place"===e&&(n.place=!0),"zip"===e&&(n.zip=!0),"radius"===e&&(n.radius=!0),"q"===e&&(n.q=!0),"date"===e&&(n.date=!0),"hideOngoingEvents"===e&&(n.hideOngoingEvents=!0),"itemsPerPage"===e&&(n.itemsPerPage=!0));return n},getUrlChangeOption=function(e,t){let n=getChangedOptions(e,t);return n.zip||n.radius||n.q||n.date||n.hideOngoingEvents||n.itemsPerPage?"none":n.eventtype&&n.people&&!n.region&&!n.place?"highlightEventtypePeople":n.highlight||n.eventtype||n.people||!n.region||n.place?n.highlight||n.eventtype||n.people||n.region||!n.place?void 0:"place":"region"},removeProtocolAndHostFromUrl=function(){return window.location.href.split(window.location.host)[1].replace(".html","")},urlForHighlightEventtypePeople=function(e,t){const n=t.split("/highlight/");let r,o,i;t=n[0];for(let t of e)"tx_evangtermine_list[etkeysForm][highlight]"===t[0]&&(r=t[1]),"tx_evangtermine_list[etkeysForm][eventtype]"===t[0]&&(o=t[1]),"tx_evangtermine_list[etkeysForm][people]"===t[0]&&(i=t[1]);let l=t+"/highlight/"+r+"/kategorie/"+o+"/zielgruppe/"+i;l.replace("//","/"),history.pushState("","",l)},urlForRegion=function(e,t){const n=t.split("/region/");let r;t=n[0];for(let t of e)"tx_evangtermine_list[etkeysForm][region]"===t[0]&&(r=t[1]);r=changeString(r),r=changeString(r),r=changeString(r),r=changeString(r),r=changeString(r);let o=t+"/region/"+r;o.replace("//","/"),history.pushState("","",o)},urlForPlace=function(e,t){const n=t.split("/ort/");let r;t=n[0];let o="";for(let t of e)"tx_evangtermine_list[etkeysForm][place]"===t[0]&&(r=t[1],o=document.querySelector('#places option[value="'+r+'"]').text);o=changeString(o),o=changeString(o),o=changeString(o),o=changeString(o),o=changeString(o);let i=t+"/ort/"+o;i.replace("//","/"),history.pushState("","",i)},changeString=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(" ","-")).replace("--","")).replace("ß","ss")).replace('"',"")).replace("'","")).replace(".","")).replace(":","")).replace("?","")).replace("!","")).replace("(","")).replace(")","")).toLowerCase()).replace("ä","ae")).replace("ö","oe")).replace(/(?:\r\n|\r|\n)/g,"")};replaceUrl();const scrollToResults=function(){const e=document.getElementsByName("etkeysForm");for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("submit",(function(){localStorage.setItem("evangtermine-form","submitted")}));let r="";try{r=localStorage.getItem("evangtermine-form")}catch(e){}if("submitted"===r){const e=n.querySelector(".et-event").offsetTop;void 0!==e&&setTimeout((function(){window.scrollTo(0,e)}),300),localStorage.removeItem("evangtermine-form")}}};scrollToResults();
